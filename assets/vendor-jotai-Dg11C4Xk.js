import{R as oe,r as P}from"./vendor-framer-motion-C79tgHH9.js";const O={},k=(e,n)=>e.unstable_is?e.unstable_is(n):n===e,B=e=>"init"in e,C=e=>!!e.write,m=e=>"v"in e||"e"in e,J=e=>{if("e"in e)throw e.e;if((O?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},V=new WeakMap,H=e=>{var n;return j(e)&&!!((n=V.get(e))!=null&&n[0])},ae=e=>{const n=V.get(e);n!=null&&n[0]&&(n[0]=!1,n[1].forEach(t=>t()))},ie=(e,n)=>{let t=V.get(e);if(!t){t=[!0,new Set],V.set(e,t);const o=()=>{t[0]=!1};e.then(o,o)}t[1].add(n)},j=e=>typeof(e==null?void 0:e.then)=="function",se=(e,n,t)=>{t.p.has(e)||(t.p.add(e),n.then(()=>{t.p.delete(e)},()=>{t.p.delete(e)}))},G=(e,n,t)=>{const o=t(e),u="v"in o,l=o.v;if(j(n))for(const w of o.d.keys())se(e,n,t(w));o.v=n,delete o.e,(!u||!Object.is(l,o.v))&&(++o.n,j(l)&&ae(l))},ee=(e,n,t)=>{var o;const u=new Set;for(const l of((o=t.get(e))==null?void 0:o.t)||[])t.has(l)&&u.add(l);for(const l of n.p)u.add(l);return u},ve=()=>{const e=new Set,n=()=>{e.forEach(t=>t())};return n.add=t=>(e.add(t),()=>{e.delete(t)}),n},K=()=>{const e={},n=new WeakMap,t=o=>{var u,l;(u=n.get(e))==null||u.forEach(w=>w(o)),(l=n.get(o))==null||l.forEach(w=>w())};return t.add=(o,u)=>{const l=o||e,w=(n.has(l)?n:n.set(l,new Set)).get(l);return w.add(u),()=>{w==null||w.delete(u),w.size||n.delete(l)}},t},_e=e=>(e.c||(e.c=K()),e.m||(e.m=K()),e.u||(e.u=K()),e.f||(e.f=ve()),e),we=Symbol(),he=(e=new WeakMap,n=new WeakMap,t=new WeakMap,o=new Set,u=new Set,l=new Set,w={},h=(p,...y)=>p.read(...y),v=(p,...y)=>p.write(...y),d=(p,y)=>{var g;return(g=p.unstable_onInit)==null?void 0:g.call(p,y)},a=(p,y)=>{var g;return(g=p.onMount)==null?void 0:g.call(p,y)},...S)=>{const p=S[0]||(r=>{if((O?"production":void 0)!=="production"&&!r)throw new Error("Atom is undefined or null");let _=e.get(r);return _||(_={d:new Map,p:new Set,n:0},e.set(r,_),d==null||d(r,$)),_}),y=S[1]||(()=>{const r=[],_=f=>{try{f()}catch(s){r.push(s)}};do{w.f&&_(w.f);const f=new Set,s=f.add.bind(f);o.forEach(i=>{var c;return(c=n.get(i))==null?void 0:c.l.forEach(s)}),o.clear(),l.forEach(s),l.clear(),u.forEach(s),u.clear(),f.forEach(_),o.size&&g()}while(o.size||l.size||u.size);if(r.length)throw new AggregateError(r)}),g=S[2]||(()=>{const r=[],_=new WeakSet,f=new WeakSet,s=Array.from(o);for(;s.length;){const i=s[s.length-1],c=p(i);if(f.has(i)){s.pop();continue}if(_.has(i)){if(t.get(i)===c.n)r.push([i,c]);else if((O?"production":void 0)!=="production"&&t.has(i))throw new Error("[Bug] invalidated atom exists");f.add(i),s.pop();continue}_.add(i);for(const E of ee(i,c,n))_.has(E)||s.push(E)}for(let i=r.length-1;i>=0;--i){const[c,E]=r[i];let A=!1;for(const R of E.d.keys())if(R!==c&&o.has(R)){A=!0;break}A&&(I(c),D(c)),t.delete(c)}}),I=S[3]||(r=>{var _;const f=p(r);if(m(f)&&(n.has(r)&&t.get(r)!==f.n||Array.from(f.d).every(([b,x])=>I(b).n===x)))return f;f.d.clear();let s=!0;const i=()=>{n.has(r)&&(D(r),g(),y())},c=b=>{var x;if(k(r,b)){const Z=p(b);if(!m(Z))if(B(b))G(b,b.init,p);else throw new Error("no atom init");return J(Z)}const U=I(b);try{return J(U)}finally{f.d.set(b,U.n),H(f.v)&&se(r,f.v,U),(x=n.get(b))==null||x.t.add(r),s||i()}};let E,A;const R={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return(O?"production":void 0)!=="production"&&!C(r)&&console.warn("setSelf function cannot be used with read-only atom"),!A&&C(r)&&(A=(...b)=>{if((O?"production":void 0)!=="production"&&s&&console.warn("setSelf function cannot be called in sync"),!s)try{return T(r,...b)}finally{g(),y()}}),A}},z=f.n;try{const b=h(r,c,R);return G(r,b,p),j(b)&&(ie(b,()=>E==null?void 0:E.abort()),b.then(i,i)),f}catch(b){return delete f.v,f.e=b,++f.n,f}finally{s=!1,z!==f.n&&t.get(r)===z&&(t.set(r,f.n),o.add(r),(_=w.c)==null||_.call(w,r))}}),M=S[4]||(r=>{const _=[r];for(;_.length;){const f=_.pop(),s=p(f);for(const i of ee(f,s,n)){const c=p(i);t.set(i,c.n),_.push(i)}}}),T=S[5]||((r,..._)=>{let f=!0;const s=c=>J(I(c)),i=(c,...E)=>{var A;const R=p(c);try{if(k(r,c)){if(!B(c))throw new Error("atom not writable");const z=R.n,b=E[0];G(c,b,p),D(c),z!==R.n&&(o.add(c),(A=w.c)==null||A.call(w,c),M(c));return}else return T(c,...E)}finally{f||(g(),y())}};try{return v(r,s,i,..._)}finally{f=!1}}),D=S[6]||(r=>{var _;const f=p(r),s=n.get(r);if(s&&!H(f.v)){for(const[i,c]of f.d)if(!s.d.has(i)){const E=p(i);N(i).t.add(r),s.d.add(i),c!==E.n&&(o.add(i),(_=w.c)==null||_.call(w,i),M(i))}for(const i of s.d||[])if(!f.d.has(i)){s.d.delete(i);const c=W(i);c==null||c.t.delete(r)}}}),N=S[7]||(r=>{var _;const f=p(r);let s=n.get(r);if(!s){I(r);for(const i of f.d.keys())N(i).t.add(r);if(s={l:new Set,d:new Set(f.d.keys()),t:new Set},n.set(r,s),(_=w.m)==null||_.call(w,r),C(r)){const i=()=>{let c=!0;const E=(...A)=>{try{return T(r,...A)}finally{c||(g(),y())}};try{const A=a(r,E);A&&(s.u=()=>{c=!0;try{A()}finally{c=!1}})}finally{c=!1}};u.add(i)}}return s}),W=S[8]||(r=>{var _;const f=p(r);let s=n.get(r);if(s&&!s.l.size&&!Array.from(s.t).some(i=>{var c;return(c=n.get(i))==null?void 0:c.d.has(r)})){s.u&&l.add(s.u),s=void 0,n.delete(r),(_=w.u)==null||_.call(w,r);for(const i of f.d.keys()){const c=W(i);c==null||c.t.delete(r)}return}return s}),fe=[e,n,t,o,u,l,w,h,v,d,a,p,y,g,I,M,T,D,N,W],$={get:r=>J(I(r)),set:(r,..._)=>{try{return T(r,..._)}finally{g(),y()}},sub:(r,_)=>{const s=N(r).l;return s.add(_),y(),()=>{s.delete(_),W(r),y()}}};return Object.defineProperty($,we,{value:fe}),$},ce=he,Se=_e,te=ie,X={};let pe=0;function ne(e,n){const t=`atom${++pe}`,o={toString(){return(X?"production":void 0)!=="production"&&this.debugLabel?t+":"+this.debugLabel:t}};return typeof e=="function"?o.read=e:(o.init=e,o.read=ye,o.write=be),n&&(o.write=n),o}function ye(e){return e(this)}function be(e,n,t){return n(this,typeof t=="function"?t(e(this)):t)}const ge=()=>{let e=0;const n=Se({}),t=new WeakMap,o=new WeakMap,u=ce(t,o,void 0,void 0,void 0,void 0,n,void 0,(h,v,d,...a)=>e?d(h,...a):h.write(v,d,...a)),l=new Set;return n.m.add(void 0,h=>{l.add(h);const v=t.get(h);v.m=o.get(h)}),n.u.add(void 0,h=>{l.delete(h);const v=t.get(h);delete v.m}),Object.assign(u,{dev4_get_internal_weak_map:()=>t,dev4_get_mounted_atoms:()=>l,dev4_restore_atoms:h=>{const v={read:()=>null,write:(d,a)=>{++e;try{for(const[S,p]of h)"init"in S&&a(S,p)}finally{--e}}};u.set(v)}})};function ue(){return(X?"production":void 0)!=="production"?ge():ce()}let L;function Ee(){return L||(L=ue(),(X?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=L),globalThis.__JOTAI_DEFAULT_STORE__!==L&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),L}const Ae={},le=P.createContext(void 0);function de(e){return P.useContext(le)||Ee()}function We({children:e,store:n}){const t=P.useRef(void 0);return!n&&!t.current&&(t.current=ue()),P.createElement(le.Provider,{value:n||t.current},e)}const F=e=>typeof(e==null?void 0:e.then)=="function",Q=e=>{e.status||(e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}))},Ie=oe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(Q(e),e)}),q=new WeakMap,re=(e,n)=>{let t=q.get(e);return t||(t=new Promise((o,u)=>{let l=e;const w=d=>a=>{l===d&&o(a)},h=d=>a=>{l===d&&u(a)},v=()=>{try{const d=n();F(d)?(q.set(d,t),l=d,d.then(w(d),h(d)),te(d,v)):o(d)}catch(d){u(d)}};e.then(w(e),h(e)),te(e,v)}),q.set(e,t)),t};function Pe(e,n){const{delay:t,unstable_promiseStatus:o=!oe.use}={},u=de(),[[l,w,h],v]=P.useReducer(a=>{const S=u.get(e);return Object.is(a[0],S)&&a[1]===u&&a[2]===e?a:[S,u,e]},void 0,()=>[u.get(e),u,e]);let d=l;if((w!==u||h!==e)&&(v(),d=u.get(e)),P.useEffect(()=>{const a=u.sub(e,()=>{if(o)try{const S=u.get(e);F(S)&&Q(re(S,()=>u.get(e)))}catch{}if(typeof t=="number"){setTimeout(v,t);return}v()});return v(),a},[u,e,t,o]),P.useDebugValue(d),F(d)){const a=re(d,()=>u.get(e));return o&&Q(a),Ie(a)}return d}function Re(e,n){const t=de();return P.useCallback((...u)=>{if((Ae?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return t.set(e,...u)},[t,e])}function ze(e,n){return[Pe(e),Re(e)]}const Y={},Te=Symbol((Y?"production":void 0)!=="production"?"RESET":""),Le=e=>typeof(e==null?void 0:e.then)=="function";function Oe(e=()=>{try{return window.localStorage}catch(t){(Y?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(t);return}},n){var t;let o,u;const l={getItem:(v,d)=>{var a,S;const p=g=>{if(g=g||"",o!==g){try{u=JSON.parse(g,n==null?void 0:n.reviver)}catch{return d}o=g}return u},y=(S=(a=e())==null?void 0:a.getItem(v))!=null?S:null;return Le(y)?y.then(p):p(y)},setItem:(v,d)=>{var a;return(a=e())==null?void 0:a.setItem(v,JSON.stringify(d,void 0))},removeItem:v=>{var d;return(d=e())==null?void 0:d.removeItem(v)}},w=v=>(d,a,S)=>v(d,p=>{let y;try{y=JSON.parse(p||"")}catch{y=S}a(y)});let h;try{h=(t=e())==null?void 0:t.subscribe}catch{}return!h&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(h=(v,d)=>{if(!(e()instanceof window.Storage))return()=>{};const a=S=>{S.storageArea===e()&&S.key===v&&d(S.newValue)};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),h&&(l.subscribe=w(h)),l}const De=Oe();function xe(e,n,t=De,o){const u=o==null?void 0:o.getOnInit,l=ne(u?t.getItem(e,n):n);return(Y?"production":void 0)!=="production"&&(l.debugPrivate=!0),l.onMount=h=>{h(t.getItem(e,n));let v;return t.subscribe&&(v=t.subscribe(e,h,n)),v},ne(h=>h(l),(h,v,d)=>{const a=typeof d=="function"?d(h(l)):d;return a===Te?(v(l,n),t.removeItem(e)):a instanceof Promise?a.then(S=>(v(l,S),t.setItem(e,S))):(v(l,a),t.setItem(e,a))})}export{We as P,ne as a,Pe as b,Re as c,xe as d,Oe as e,ze as u};
